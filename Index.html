<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My First Project</title>
</head>
<body>
    <h1>Hello World!</h1>
    <p>Welcome to my first GitHub project!</p>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My First Project</title>
</head>
<body>
    <h1>Hello World!</h1>
    <p>Welcome to my first GitHub project!</p>
</body>
</html><!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My First Project</title>
</head>
<body>
    <h1>Hello World!</h1>
    <p>Welcome to my first GitHub project!</p>
</body>
</html>                                <span>ุงฺฉุงุคููน ููุจุฑ:</span>
                                <span style="font-weight: bold;">1234 5678 9012 3456</span>
                                <button class="copy-btn" onclick="copyToClipboard('1234567890123456')"><i class="fas fa-copy"></i> ฺฉุงูพ</button>
                            </div>
                            <div class="account-info">
                                <span>ุงฺฉุงุคููน ูนุงุฆูนู:</span>
                                <span style="font-weight: bold;">ุงูุณุงุฏุงุช ูุดูู ุงูุงุฆูุณ</span>
                                <button class="copy-btn" onclick="copyToClipboard('ุงูุณุงุฏุงุช ูุดูู ุงูุงุฆูุณ')"><i class="fas fa-copy"></i> ฺฉุงูพ</button>
                            </div>
                            <div class="account-info">
                                <span>IBAN:</span>
                                <span style="font-weight: bold;">PK36MEZN0001234567890123</span>
                                <button class="copy-btn" onclick="copyToClipboard('PK36MEZN0001234567890123')"><i class="fas fa-copy"></i> ฺฉุงูพ</button>
                            </div>
                            <div class="help-text">ุจุฑุง ฺฉุฑู ุงุฏุงุฆฺฏ ฺฉ ุจุนุฏ Transaction ID ฺฉู ูููน ฺฉุฑฺบ</div>
                        </div>
                    </div>
                    
                    <p style="font-size:1.1rem; color:var(--blue); margin-bottom:15px;"><b><i class="fas fa-users" style="margin-left:10px;"></i> ููู ููุจุฑุงู:</b></p>
                    <div id="family-container"></div>
                    <button type="button" onclick="addFamily()" style="background:linear-gradient(135deg, var(--gold) 0%, #e0b040 100%); border:none; padding:12px; color:#000; border-radius:10px; margin-bottom:20px; cursor:pointer; font-weight:bold; width:100%; font-size:1.05rem; box-shadow: 0 5px 15px rgba(197, 160, 89, 0.3);">
                        <i class="fas fa-plus" style="margin-left:10px;"></i> ููู ููุจุฑ ุดุงูู ฺฉุฑฺบ
                    </button>
                    
                    <p style="font-size:1.1rem; color:var(--blue); margin-bottom:15px;"><b><i class="fas fa-receipt" style="margin-left:10px;"></i> ุงุฏุงุฆฺฏ ฺฉ ุฑุณุฏ:</b></p>
                    <input type="file" accept="image/*" id="receiptInput" onchange="previewReceipt(event)" required style="margin-bottom:15px;">
                    <div class="error-message" id="receiptError">ุฑุณุฏ ฺฉ ุชุตูุฑ ุงูพููฺ ฺฉุฑฺบ</div>
                    <img id="receiptDisplay" class="receipt-preview" alt="ุฑุณุฏ ฺฉุง ูพุด ููุธุฑ">
                    <div class="help-text">ุตุฑู ุชุตูุฑ ูุงุฆูุฒ (JPG, PNG, GIF) | ุงุฏุงุฆฺฏ ฺฉ ุชุตุฏู ฺฉ ู ุถุฑูุฑ</div>
                    
                    <p style="font-size:1.1rem; color:var(--blue); margin-top:20px; margin-bottom:15px;"><b><i class="fas fa-camera" style="margin-left:10px;"></i> ุงูพู ุชุตูุฑ:</b></p>
                    <input type="file" accept="image/*" onchange="preview(event)" id="photoInput">
                    <div class="error-message" id="photoError">ุชุตูุฑ ุงูพููฺ ฺฉุฑฺบ</div>
                    <div class="help-text">ุตุงู ุงูุฑ ูุงุถุญ ุชุตูุฑุ ุณุงุฆุฒ: 90x110 ูพฺฉุณูุฒ</div>
                    
                    <button type="submit" style="background:linear-gradient(135deg, var(--blue) 0%, #004080 100%); color:white; width:100%; padding:16px; border:none; border-radius:12px; font-weight:bold; cursor:pointer; margin-top:25px; box-shadow: 0 8px 25px rgba(0, 51, 102, 0.3); font-size:1.1rem;">
                        <i class="fab fa-whatsapp" style="margin-left:10px;"></i> ฺูนุง ูุงูนุณ ุงูพ ฺฉุฑฺบ
                    </button>
                </form>
            </div>

            <h3 style="color:var(--blue); border-right:5px solid var(--red); padding-right:15px; margin-top:40px; padding-top:10px;">19 ูฺฉุงุช ุงุฌูฺุง</h3>
            <div id="objContainer" style="display:grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap:15px; margin-bottom:60px; margin-top:20px;"></div>
        </div>
    </div>
    
    <!-- ========== ูููนุฑ (ูุฆ ุดุงูู) ========== -->
    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h4>ุงูุณุงุฏุงุช ูุดูู ุงูุงุฆูุณ</h4>
                <p>ุณุงุฏุงุช ุจุฑุงุฏุฑ ฺฉ ุญููู ุงูุฑ ููุงุฏุงุช ฺฉ ุชุญูุธ ฺฉ ู ููู ุงฺฉ ุชูุธู ู ุงุชุญุงุฏุ ุชุนููุ ุตุญุช ุงูุฑ ูุนุงุด ุชุฑู ฺฉ ู ฺฉุงู ฺฉุฑ ุฑ ฺบ</p>
                <div class="social-icons">
                    <a href="#" class="social-icon" title="ูุณ ุจฺฉ"><i class="fab fa-facebook-f"></i></a>
                    <a href="#" class="social-icon" title="ูนููนุฑ"><i class="fab fa-twitter"></i></a>
                    <a href="#" class="social-icon" title="ุงูุณูนุงฺฏุฑุงู"><i class="fab fa-instagram"></i></a>
                    <a href="#" class="social-icon" title="ููนูุจ"><i class="fab fa-youtube"></i></a>
                    <a href="#" class="social-icon" title="ูนู ฺฏุฑุงู"><i class="fab fa-telegram"></i></a>
                </div>
            </div>
            
            <div class="footer-section">
                <h4>ููุฑ ููฺฉุณ</h4>
                <ul class="footer-links">
                    <li><a href="#"><i class="fas fa-home"></i> ูู ูพุฌ</a></li>
                    <li><a href="#"><i class="fas fa-user-plus"></i> ุฑุฌุณูนุฑุดู</a></li>
                    <li><a href="#"><i class="fas fa-question-circle"></i> FAQs</a></li>
                    <li><a href="#"><i class="fas fa-file-alt"></i> ููุงุนุฏ ู ุถูุงุจุท</a></li>
                    <li><a href="#"><i class="fas fa-phone-alt"></i> ุฑุงุจุท ฺฉุฑฺบ</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>ุฑุงุจุท ฺฉุฌ</h4>
                <ul class="footer-links">
                    <li><a href="tel:03213691838"><i class="fas fa-phone"></i> 0321-3691838</a></li>
                    <li><a href="mailto:info@sna.org.pk"><i class="fas fa-envelope"></i> info@sna.org.pk</a></li>
                    <li><a href="#"><i class="fas fa-map-marker-alt"></i> ฺฉุฑุงฺุ ุณูุฏฺพุ ูพุงฺฉุณุชุงู</a></li>
                    <li><a href="https://wa.me/923213691838"><i class="fab fa-whatsapp"></i> ูุงูนุณ ุงูพ</a></li>
                </ul>
            </div>
            
            <div class="footer-section">
                <h4>ุงุฏุงุฆฺฏ ฺฉ ุทุฑู</h4>
                <div style="display: flex; gap: 10px; margin-top: 15px;">
                    <div style="background: white; padding: 10px; border-radius: 8px; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-mobile-alt" style="color: #FF0000;"></i>
                        <span style="color: black; font-weight: bold;">JazzCash</span>
                    </div>
                    <div style="background: white; padding: 10px; border-radius: 8px; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-wallet" style="color: #00A859;"></i>
                        <span style="color: black; font-weight: bold;">EasyPaisa</span>
                    </div>
                    <div style="background: white; padding: 10px; border-radius: 8px; display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-university" style="color: #003366;"></i>
                        <span style="color: black; font-weight: bold;">ุจูฺฉ</span>
                    </div>
                </div>
                <p style="margin-top: 15px; font-size: 0.9rem;">ุชูุงู ุงุฏุงุฆฺฏุงฺบ ูุญููุธ ุงูุฑ ุชุตุฏู ุดุฏ ฺบ</p>
            </div>
        </div>
        
        <div class="footer-bottom">
            <p>ยฉ 2024 ุงูุณุงุฏุงุช ูุดูู ุงูุงุฆูุณ - ุชูุงู ุญููู ูุญููุธ ฺบ | SNA Portal <span class="version-badge">v1.0</span></p>
            <p style="font-size: 0.8rem; margin-top: 5px;">ุชฺฉูฺฉ ูุนุงููุช: ุณุฏ ุงุจุฑุงู ุดุง | ุฑุงุจุท: 0321-3691838</p>
        </div>
    </footer>

    <script>
        // ==================== ูุชุบุฑุงุช ====================
        const quran = document.getElementById('quran');
        let isFormValid = false;
        let currentRegistrationId = "SNA-0000";
        let currentFee = 200;
        let selectedPaymentMethod = "";
        
        // ==================== ูุณ ฺฉุง ุญุณุงุจ ====================
        function updateFee() {
            const type = document.getElementById('m-type').value;
            
            if(type === "Silver") {
                currentFee = 200;
            } else if(type === "Gold") {
                currentFee = 300;
            } else {
                currentFee = 500;
            }
            
            // ูุณ ฺุณูพู ุงูพฺูน ฺฉุฑฺบ
            document.getElementById('membershipFeeDisplay').innerText = currentFee + " ุฑููพ";
            document.getElementById('totalFeeDisplay').innerText = currentFee + " ุฑููพ";
            
            // ID ฺฉุงุฑฺ ุจุฌ ุงูพฺูน
            const badge = document.getElementById('m-badge');
            badge.innerText = type + " Member";
            
            if(type === "Silver") {
                badge.style.background = "linear-gradient(135deg, #C0C0C0 0%, #A0A0A0 100%)";
                badge.style.color = "black";
            } else if(type === "Gold") {
                badge.style.background = "linear-gradient(135deg, #FFD700 0%, #FFAA00 100%)";
                badge.style.color = "black";
            } else {
                badge.style.background = "linear-gradient(135deg, #B9F2FF 0%, #89C2D9 100%)";
                badge.style.color = "black";
            }
            
            // ID ุฌูุฑูน
            const name = document.getElementById('name').value.trim();
            if(name.length > 2) {
                currentRegistrationId = "SNA-" + Math.floor(1000 + Math.random() * 9000);
                document.getElementById('v-id').innerText = currentRegistrationId;
            }
            
            // ุณูฺฉูน ุขูพุดูุฒ ุงูพฺูน
            const select = document.getElementById('m-type');
            select.options[0].text = "ุณููุฑ ููุจุฑ (Regular) - 200 ุฑููพ";
            select.options[1].text = "ฺฏููฺ ููุจุฑ (Active) - 300 ุฑููพ";
            select.options[2].text = "ฺุงุฆููฺ ููุจุฑ (Donor) - 500 ุฑููพ";
        }
        
        // ==================== ุงุฏุงุฆฺฏ ฺฉุง ุทุฑู ููุชุฎุจ ฺฉุฑฺบ ====================
        function selectPaymentMethod(method) {
            selectedPaymentMethod = method;
            
            // ุชูุงู ุขูพุดูุฒ ุณ ุณูฺฉูน ฺฉูุงุณ ูนุงุฆฺบ
            document.querySelectorAll('.payment-option').forEach(option => {
                option.classList.remove('selected');
                option.querySelector('.payment-check').style.display = 'none';
            });
            
            // ุณูฺฉูน ุดุฏ ุขูพุดู ูฺบ ฺฉูุงุณ ุดุงูู ฺฉุฑฺบ
            const selectedOption = event.currentTarget;
            selectedOption.classList.add('selected');
            selectedOption.querySelector('.payment-check').style.display = 'block';
            
            // ุชูุงู ุงฺฉุงุคููน ฺูนูุฒ ฺฺพูพุงุฆฺบ
            document.querySelectorAll('.account-details').forEach(detail => {
                detail.style.display = 'none';
            });
            
            // ูุชุนูู ุงฺฉุงุคููน ฺูนูุฒ ุฏฺฉฺพุงุฆฺบ
            if(method === 'jazzcash') {
                document.getElementById('jazzcashDetails').style.display = 'block';
                document.getElementById('selectedPaymentMethod').value = 'JazzCash';
            } else if(method === 'easypaisa') {
                document.getElementById('easypaisaDetails').style.display = 'block';
                document.getElementById('selectedPaymentMethod').value = 'EasyPaisa';
            } else if(method === 'bank') {
                document.getElementById('bankDetails').style.display = 'block';
                document.getElementById('selectedPaymentMethod').value = 'ุจูฺฉ ุงฺฉุงุคููน';
            }
            
            // ุงุฑุฑ ุงุฆฺ
            document.getElementById('paymentError').style.display = 'none';
        }
        
        // ==================== ฺฉุงูพ ฺฉุฑู ฺฉุง ููฺฉุดู ====================
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                showNotification("โ ฺฉุงูพ ูฺฏุง: " + text, "success");
            }).catch(err => {
                showNotification("โ ฺฉุงูพ ูฺบ ูุณฺฉุง", "error");
            });
        }
        
        // ==================== ุจูุงุฏ ุงูุนุงู ====================
        function togglePlay() { 
            if(quran.paused){
                quran.play(); 
                document.getElementById('playIcon').className="fas fa-pause";
                document.querySelector('.audio-btn').classList.add('glow');
                showNotification("๐ต ูุฑุขู ูพุงฺฉ ุณููุง ุดุฑูุน ูฺฏุง", "success");
            } else {
                quran.pause(); 
                document.getElementById('playIcon').className="fas fa-play";
                document.querySelector('.audio-btn').classList.remove('glow');
                showNotification("โธ๏ธ ูุฑุขู ูพุงฺฉ ุฑูฺฉ ุฏุง ฺฏุง", "warning");
            }
        }
        
        function closeWelcome() { 
            document.getElementById('welcomeModal').style.display = 'none'; 
            quran.play(); 
            document.getElementById('playIcon').className = "fas fa-pause";
            document.querySelector('.audio-btn').classList.add('glow');
            
            // ID ฺฉุงุฑฺ ูพุฑ ูพูุณ ุงููุดู
            const idCard = document.getElementById('id-card');
            idCard.classList.remove('pulse');
            setTimeout(() => {
                idCard.classList.add('pulse');
            }, 100);
            
            showNotification("๐ ุฎูุด ุขูุฏุฏ! ุฑุฌุณูนุฑุดู ูุงุฑู ูพูุฑ ฺฉุฑฺบ", "success");
        }
        
        function closeConfirmation() {
            document.getElementById('confirmationBox').style.display = 'none';
            document.getElementById('progressFill').style.width = '0%';
        }
        
        // ==================== ูููนูฺฉุดู ุณุณูนู ====================
        function showNotification(message, type = "success") {
            const notification = document.getElementById('notification');
            notification.innerHTML = `<i class="fas ${type === 'success' ? 'fa-check-circle' : type === 'error' ? 'fa-exclamation-circle' : 'fa-info-circle'}"></i> ${message}`;
            notification.className = `notification ${type}`;
            notification.style.display = 'block';
            
            setTimeout(() => {
                notification.style.display = 'none';
            }, 4000);
        }
        
        // ==================== ุงุฌูฺุง ฺูนุง ====================
        const agendaData = [
            { text: "ุงุชุญุงุฏู ุณุงุฏุงุช", icon: "fa-users" }, { text: "ฺูนุง ฺฉูฺฉุดู", icon: "fa-database" },
            { text: "ุชุนูู ูุงู ุงูุฏุงุฏ", icon: "fa-graduation-cap" }, { text: "ุงุนููฐ ุชุนูู ูฺบ ุชุนุงูู", icon: "fa-university" },
            { text: "ุณูุงุฆ ุณููนุฑุฒ", icon: "fa-cut" }, { text: "ุงุณฺฉูููฺบ ฺฉุง ูุงู", icon: "fa-school" },
            { text: "ุณูพุชุงููฺบ ฺฉุง ูุงู", icon: "fa-hospital" }, { text: "ฺฉููููน ุณููนุฑุฒ", icon: "fa-building" },
            { text: "ุดุงุฏูฺบ ูฺบ ูุฏุฏ", icon: "fa-heart" }, { text: "ุฑูุฒฺฏุงุฑ ฺฉ ูุฑุงู", icon: "fa-briefcase" },
            { text: "ุจูุง ุณูุฏ ูุฑุถ", icon: "fa-hand-holding-usd" }, { text: "ูุงููู ูุฏุฏ", icon: "fa-balance-scale" },
            { text: "ูฺฉูุง ูพูู", icon: "fa-user-tie" }, { text: "ูุตุงูุญุช ฺฉููนุงฺบ", icon: "fa-handshake" },
            { text: "ฺฏฺพุฑ ฺฏฺพุฑ ุฏุณุชฺฉ", icon: "fa-door-open" }, { text: "ุซูุงูุช ฺฉุง ูุฑูุบ", icon: "fa-mosque" },
            { text: "ุดูุงู ููฺูฺฏ", icon: "fa-coins" }, { text: "ุฑุดุช ฺฉููนุงฺบ", icon: "fa-ring" },
            { text: "ุดุงุฏูฺบ ูฺบ ุงุตูุงุญุงุช", icon: "fa-gem" }
        ];
        
        // ุงุฌูฺุง ุขุฆูนูุฒ ุดุงูู ฺฉุฑฺบ
        agendaData.forEach((item, i) => { 
            document.getElementById('objContainer').innerHTML += `
                <div class="agenda-item">
                    <i class="fas ${item.icon}" style="font-size:1.2rem; color:var(--blue);"></i>
                    <span>${i+1}. ${item.text}</span>
                </div>`; 
        });
        
        // ==================== ููู ููุจุฑ ุณุณูนู ====================
        function addFamily() {
            const row = document.createElement('div');
            row.className = 'family-member-row';
            row.innerHTML = `
                <input type="text" placeholder="ูุงู" class="family-name" required>
                <select class="family-relation">
                    <option value="ูุงูุฏ">ูุงูุฏ</option>
                    <option value="ูุงูุฏ">ูุงูุฏ</option>
                    <option value="ุจู">ุจู</option>
                    <option value="ุจูนุง">ุจูนุง</option>
                    <option value="ุจูน">ุจูน</option>
                    <option value="ุจฺพุงุฆ">ุจฺพุงุฆ</option>
                    <option value="ุจู">ุจู</option>
                    <option value="ูพูุชุง">ูพูุชุง</option>
                    <option value="ูพูุช">ูพูุช</option>
                    <option value="ููุงุณุง">ููุงุณุง</option>
                    <option value="ููุงุณ">ููุงุณ</option>
                </select>
                <input type="number" placeholder="ุนูุฑ" class="family-age" min="1" max="120">
                <button type="button" class="remove-btn" onclick="removeFamily(this)">
                    <i class="fas fa-times"></i>
                </button>`;
            document.getElementById('family-container').appendChild(row);
            
            // ุงููุดู
            row.style.opacity = '0';
            row.style.transform = 'translateY(20px)';
            setTimeout(() => {
                row.style.opacity = '1';
                row.style.transform = 'translateY(0)';
            }, 10);
            
            showNotification("๐จ๐ฉ๐ง๐ฆ ููู ููุจุฑ ุดุงูู ูฺฏุง", "success");
        }
        
        function removeFamily(button) {
            const row = button.parentElement;
            row.style.opacity = '0';
            row.style.transform = 'translateY(-20px)';
            setTimeout(() => {
                row.remove();
                showNotification("๐๏ธ ููู ููุจุฑ ูนุง ุฏุง ฺฏุง", "warning");
            }, 300);
        }
        
        // ==================== ID ฺฉุงุฑฺ ุงูพฺูน ุณุณูนู ====================
        function update() { 
            const name = document.getElementById('name').value.trim();
            const phone = document.getElementById('phone').value.trim();
            const cnic = document.getElementById('cnic').value.trim();
            
            // ูุงู ุงูพฺูน
            document.getElementById('view-name').innerText = name || "ุขูพ ฺฉุง ูุงู";
            
            // ููู ููุจุฑ ุงูพฺูน
            document.getElementById('view-phone').innerText = phone || "---";
            
            // CNIC ุงูพฺูน
            document.getElementById('view-cnic').innerText = cnic || "00000-0000000-0";
            
            // ID ุฌูุฑูน
            if(name.length > 2) {
                currentRegistrationId = "SNA-" + Math.floor(1000 + Math.random() * 9000);
                document.getElementById('v-id').innerText = currentRegistrationId;
            }
            
            // ูุงูฺุดู
            validateForm();
        }
        
        // ==================== ุชุตูุฑ ูพุฑูู ุณุณูนู ====================
        function preview(e) { 
            const file = e.target.files[0];
            if (!file) return;
            
            // ูุงุฆู ุณุงุฆุฒ ฺฺฉ
            if (file.size > 5 * 1024 * 1024) { // 5MB
                showNotification("โ ุชุตูุฑ ุฒุงุฏ ุจฺ  (5MB ุณ ฺฉู ู)", "error");
                e.target.value = '';
                return;
            }
            
            const reader = new FileReader(); 
            reader.onload = (f) => { 
                document.getElementById('card-photo-display').src = f.target.result; 
                document.getElementById('card-photo-display').classList.add('pulse');
                setTimeout(() => {
                    document.getElementById('card-photo-display').classList.remove('pulse');
                }, 1000);
                
                // ุงุฑุฑ ุงุฆฺ
                document.getElementById('photoError').style.display = 'none';
                e.target.classList.remove('input-error');
            }; 
            reader.readAsDataURL(file); 
        }
        
        function previewReceipt(e) { 
            const file = e.target.files[0];
            if (!file) return;
            
            // ูุงุฆู ุณุงุฆุฒ ฺฺฉ
            if (file.size > 10 * 1024 * 1024) { // 10MB
                showNotification("โ ุฑุณุฏ ุฒุงุฏ ุจฺ  (10MB ุณ ฺฉู ู)", "error");
                e.target.value = '';
                return;
            }
            
            const reader = new FileReader(); 
            reader.onload = (f) => { 
                const img = document.getElementById('receiptDisplay'); 
                img.src = f.target.result; 
                img.style.display = 'block';
                img.classList.add('pulse');
                setTimeout(() => {
                    img.classList.remove('pulse');
                }, 1000);
                
                // ุงุฑุฑ ุงุฆฺ
                document.getElementById('receiptError').style.display = 'none';
                e.target.classList.remove('input-error');
            }; 
            reader.readAsDataURL(file); 
        }
        
        // ==================== ฺฉุงุฑฺ ฺุงุคู ููฺ ุณุณูนู ====================
        function downloadCard() {
            const button = document.getElementById('downloadBtn');
            const originalHTML = button.innerHTML;
            
            // ฺฺฉ ฺฉุฑฺบ ฺฉ ูุงู ููุฌูุฏ 
            if (!document.getElementById('name').value.trim()) {
                showNotification("โ ูพู ุงูพูุง ูุงู ุฏุฑุฌ ฺฉุฑฺบ", "error");
                document.getElementById('name').focus();
                document.getElementById('name').classList.add('input-error');
                document.getElementById('nameError').style.display = 'block';
                return;
            }
            
            // ููฺูฺฏ ุงุณูนูน
            button.innerHTML = '<i class="fas fa-spinner spinner"></i> ุชุงุฑ ู ุฑุง ...';
            button.disabled = true;
            button.style.opacity = '0.8';
            
            // ID ฺฉุงุฑฺ ูพุฑ ุงูฺฉูน
            const idCard = document.getElementById('id-card');
            idCard.classList.add('glow');
            
            html2canvas(document.getElementById("id-card"), {
                scale: 2,
                useCORS: true,
                backgroundColor: null,
                logging: false
            }).then(canvas => {
                let link = document.createElement("a");
                link.download = `SNA-Card-${currentRegistrationId}.png`;
                link.href = canvas.toDataURL("image/png");
                link.click();
                
                // ุฑ ุณูน
                setTimeout(() => {
                    button.innerHTML = originalHTML;
                    button.disabled = false;
                    button.style.opacity = '1';
                    idCard.classList.remove('glow');
                    
                    // ฺฉุงูุงุจ ุงููุดู
                    idCard.classList.add('pulse');
                    setTimeout(() => {
                        idCard.classList.remove('pulse');
                    }, 2000);
                    
                    showNotification("โ ฺฉุงุฑฺ ฺฉุงูุงุจ ุณ ฺุงุคู ููฺ ูฺฏุง!", "success");
                }, 500);
                
            }).catch(error => {
                button.innerHTML = originalHTML;
                button.disabled = false;
                button.style.opacity = '1';
                idCard.classList.remove('glow');
                showNotification("โ ฺุงุคู ููฺ ูฺบ ูุณฺฉุงุ ุฏูุจุงุฑ ฺฉูุดุด ฺฉุฑฺบ", "error");
                console.error("Download error:", error);
            });
        }
        
        // ==================== ูุงุฑู ูุงูฺุดู ุณุณูนู ====================
        function validateCNIC(cnic) {
            const pattern = /^\d{5}-\d{7}-\d{1}$/;
            return pattern.test(cnic);
        }
        
        function validatePhone(phone) {
            return /^03\d{9}$/.test(phone);
        }
        
        function validateForm() {
            let isValid = true;
            
            // ูุงู ฺฺฉ
            const name = document.getElementById('name').value.trim();
            if (!name) {
                document.getElementById('nameError').style.display = 'block';
                document.getElementById('name').classList.add('input-error');
                isValid = false;
            } else {
                document.getElementById('nameError').style.display = 'none';
                document.getElementById('name').classList.remove('input-error');
            }
            
            // CNIC ฺฺฉ
            const cnic = document.getElementById('cnic').value.trim();
            if (!validateCNIC(cnic)) {
                document.getElementById('cnicError').style.display = 'block';
                document.getElementById('cnic').classList.add('input-error');
                isValid = false;
            } else {
                document.getElementById('cnicError').style.display = 'none';
                document.getElementById('cnic').classList.remove('input-error');
            }
            
            // ููู ฺฺฉ
            const phone = document.getElementById('phone').value.trim();
            if (!validatePhone(phone)) {
                document.getElementById('phoneError').style.display = 'block';
                document.getElementById('phone').classList.add('input-error');
                isValid = false;
            } else {
                document.getElementById('phoneError').style.display = 'none';
                document.getElementById('phone').classList.remove('input-error');
            }
            
            // ุตูุจ ฺฺฉ
            const province = document.getElementById('province').value;
            if (!province) {
                document.getElementById('provinceError').style.display = 'block';
                document.getElementById('province').classList.add('input-error');
                isValid = false;
            } else {
                document.getElementById('provinceError').style.display = 'none';
                document.getElementById('province').classList.remove('input-error');
            }
            
            // ุดุฑ ฺฺฉ
            const city = document.getElementById('city').value.trim();
            if (!city) {
                document.getElementById('cityError').style.display = 'block';
                document.getElementById('city').classList.add('input-error');
                isValid = false;
            } else {
                document.getElementById('cityError').style.display = 'none';
                document.getElementById('city').classList.remove('input-error');
            }
            
            // ุฑุณุฏ ฺฺฉ
            const receipt = document.getElementById('receiptInput').files[0];
            if (!receipt) {
                document.getElementById('receiptError').style.display = 'block';
                document.getElementById('receiptInput').classList.add('input-error');
                isValid = false;
            } else {
                document.getElementById('receiptError').style.display = 'none';
                document.getElementById('receiptInput').classList.remove('input-error');
            }
            
            // ุชุตูุฑ ฺฺฉ
            const photo = document.getElementById('photoInput').files[0];
            if (!photo) {
                document.getElementById('photoError').style.display = 'block';
                document.getElementById('photoInput').classList.add('input-error');
                isValid = false;
            } else {
                document.getElementById('photoError').style.display = 'none';
                document.getElementById('photoInput').classList.remove('input-error');
            }
            
            // ุงุฏุงุฆฺฏ ฺฉุง ุทุฑู ฺฺฉ
            if (!selectedPaymentMethod) {
                document.getElementById('paymentError').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('paymentError').style.display = 'none';
            }
            
            isFormValid = isValid;
            return isValid;
        }
        
        // ==================== ุขูนู ูุงุฑููนูฺฏ ====================
        // CNIC ุขูนู ูุงุฑููน
        document.getElementById('cnic').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 13) value = value.substring(0, 13);
            
            if (value.length > 5) value = value.substring(0, 5) + '-' + value.substring(5);
            if (value.length > 13) value = value.substring(0, 13) + '-' + value.substring(13);
            
            e.target.value = value;
            
            // ูุงูฺุดู
            if (validateCNIC(e.target.value)) {
                e.target.classList.remove('input-error');
                document.getElementById('cnicError').style.display = 'none';
            }
        });
        
        // ููู ููุจุฑ ุขูนู ูุงุฑููน
        document.getElementById('phone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 11) value = value.substring(0, 11);
            
            if (value.startsWith('3')) {
                value = '0' + value;
            }
            
            e.target.value = value;
            
            // ูุงูฺุดู
            if (validatePhone(e.target.value)) {
                e.target.classList.remove('input-error');
                document.getElementById('phoneError').style.display = 'none';
            }
        });
        
        // ==================== ูุงุฑู ุณุจุฑููน ุณุณูนู ====================
        document.getElementById('regForm').onsubmit = (e) => {
            e.preventDefault();
            
            // ูุงูฺุดู
            if (!validateForm()) {
                showNotification("โ ุจุฑุง ฺฉุฑู ุชูุงู ููฺุฒ ุฏุฑุณุช ุทุฑู ุณ ูพูุฑ ฺฉุฑฺบ", "error");
                return;
            }
            
            // ฺฉููุฑูุดู ุจุงฺฉุณ ุฏฺฉฺพุงุฆฺบ
            document.getElementById('confirmationId').innerText = currentRegistrationId;
            document.getElementById('confirmationFee').innerText = currentFee;
            document.getElementById('confirmationBox').style.display = 'flex';
            
            // ูพุฑูฺฏุฑุณ ุจุงุฑ
            let progress = 0;
            const progressInterval = setInterval(() => {
                progress += 10;
                document.getElementById('progressFill').style.width = progress + '%';
                
                if (progress >= 100) {
                    clearInterval(progressInterval);
                    
                    // ูุงูนุณ ุงูพ ูุณุฌ ุชุงุฑ ฺฉุฑฺบ
                    let message = `๐ *ุงูุณุงุฏุงุช ูุดูู ุงูุงุฆูุณ ุฑุฌุณูนุฑุดู* ๐%0A%0A`;
                    message += `๐ *ุฑุฌุณูนุฑุดู ููุจุฑ:* ${currentRegistrationId}%0A`;
                    message += `๐ค *ูุงู:* ${document.getElementById('name').value}%0A`;
                    message += `๐ *CNIC:* ${document.getElementById('cnic').value}%0A`;
                    message += `๐ *ููู:* ${document.getElementById('phone').value}%0A`;
                    message += `๐๏ธ *ุตูุจ:* ${document.getElementById('province').value}%0A`;
                    message += `๐๏ธ *ุดุฑ:* ${document.getElementById('city').value}%0A`;
                    message += `โญ *ููุจุฑุดูพ:* ${document.getElementById('m-type').value}%0A`;
                    message += `๐ฐ *ุฑุฌุณูนุฑุดู ูุณ:* ${currentFee} ุฑููพ%0A`;
                    message += `๐ณ *ุงุฏุงุฆฺฏ ฺฉุง ุทุฑู:* ${document.getElementById('selectedPaymentMethod').value}%0A`;
                    
                    // ููู ููุจุฑุงู
                    const familyRows = document.querySelectorAll('#family-container .family-member-row');
                    if (familyRows.length > 0) {
                        message += `%0A๐จ๐ฉ๐ง๐ฆ *ููู ููุจุฑุงู:* ${familyRows.length}%0A`;
                    }
                    
                    message += `%0A๐ *ุชุงุฑุฎ:* ${new Date().toLocaleDateString('ur-PK')}%0A`;
                    message += `โฐ *ููุช:* ${new Date().toLocaleTimeString('ur-PK', {hour: '2-digit', minute:'2-digit'})}%0A%0A`;
                    message += `---%0Aุงูุณุงุฏุงุช ูุดูู ุงูุงุฆูุณ ูพุงฺฉุณุชุงู`;
                    
                    // ูุงูนุณ ุงูพ ฺฉฺพููฺบ
                    setTimeout(() => {
                        window.open(`https://wa.me/923213691838?text=${message}`, '_blank');
                        showNotification("โ ฺูนุง ูุงูนุณ ุงูพ ูพุฑ ุจฺพุฌุง ฺฏุง!", "success");
                    }, 500);
                }
            }, 100);
            
            // ูุงุฑู ฺฉุงูุงุจ
            const form = document.getElementById('regForm');
            form.style.opacity = '0.9';
            setTimeout(() => {
                form.style.opacity = '1';
            }, 1000);
            
            // ID ฺฉุงุฑฺ ุงุณูนูนุณ ุงูพฺูน
            document.querySelector('.status-badge').innerText = "SUBMITTED";
            document.querySelector('.status-badge').style.background = "#10b981";
        };
        
        // ==================== ุตูุญ ููฺ ูู ูพุฑ ====================
        window.onload = function() {
            // ุฎูุด ุขูุฏุฏ ูพุบุงู
            setTimeout(() => {
                document.getElementById('welcomeModal').style.display = 'flex';
            }, 500);
            
            // ID ฺฉุงุฑฺ ุงููุดู
            setTimeout(() => {
                const idCard = document.getElementById('id-card');
                idCard.classList.add('pulse');
                setTimeout(() => {
                    idCard.classList.remove('pulse');
                }, 4000);
            }, 1000);
            
            // ุณูุงุฆฺุฑ ฺฉู ูุฑ ูพุฑ ุฑูฺฉฺบ
            const slider = document.querySelector('.slider-track');
            slider.addEventListener('mouseenter', () => {
                slider.style.animationPlayState = 'paused';
            });
            
            slider.addEventListener('mouseleave', () => {
                slider.style.animationPlayState = 'running';
            });
            
            // ุณุดู ุฑุณูนูุฑ
            const savedName = localStorage.getItem('sna_name');
            if (savedName) {
                document.getElementById('name').value = savedName;
                update();
            }
            
            // ูุงู ุณู ฺฉุฑู ฺฉ ู
            document.getElementById('name').addEventListener('blur', function() {
                if (this.value.trim()) {
                    localStorage.setItem('sna_name', this.value.trim());
                }
            });
            
            // ฺฉููนุฑูู + ุงุณ ุณ ุณู
            document.addEventListener('keydown', function(e) {
                if ((e.ctrlKey || e.metaKey) && e.key === 's') {
                    e.preventDefault();
                    downloadCard();
                }
            });
            
            // ูุณ ุงูพฺูน
            updateFee();
        };
        
        // ==================== ุขู ูุงุฆู/ุขู ูุงุฆู ฺูนฺฉุดู ====================
        window.addEventListener('online', () => {
            showNotification("๐ ุงููนุฑููน ฺฉูฺฉุดู ุจุญุงู ูฺฏุง", "success");
        });
        
        window.addEventListener('offline', () => {
            showNotification("โ๏ธ ุงููนุฑููน ฺฉูฺฉุดู ูููุทุน ", "warning");
        });
    </script>
</body>
</html>
